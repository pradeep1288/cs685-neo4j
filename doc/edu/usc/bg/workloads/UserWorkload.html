<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_31) on Mon Nov 04 06:31:20 GMT-08:00 2013 -->
<TITLE>
UserWorkload
</TITLE>

<META NAME="date" CONTENT="2013-11-04">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="UserWorkload";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/UserWorkload.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/usc/bg/workloads/ResourceWorkload.html" title="class in edu.usc.bg.workloads"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/usc/bg/workloads/UserWorkload.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UserWorkload.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
edu.usc.bg.workloads</FONT>
<BR>
Class UserWorkload</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../edu/usc/bg/base/Workload.html" title="class in edu.usc.bg.base">edu.usc.bg.base.Workload</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>edu.usc.bg.workloads.UserWorkload</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>UserWorkload</B><DT>extends <A HREF="../../../../edu/usc/bg/base/Workload.html" title="class in edu.usc.bg.base">Workload</A></DL>
</PRE>

<P>
Used for loading members into the data store
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>barahman</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#BASE_INTERVAL">BASE_INTERVAL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#fieldCount">fieldCount</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#fieldLength">fieldLength</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#fieldName">fieldName</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#imageSize">imageSize</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#insertImage">insertImage</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#MAX_INTERVAL">MAX_INTERVAL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#table">table</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#UserWorkload()">UserWorkload</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#buildKeyName(long)">buildKeyName</A></B>(long&nbsp;keyNum)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#doInsert(edu.usc.bg.base.DB, java.lang.Object)">doInsert</A></B>(<A HREF="../../../../edu/usc/bg/base/DB.html" title="class in edu.usc.bg.base">DB</A>&nbsp;db,
         java.lang.Object&nbsp;threadState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do one insert operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#doTransaction(edu.usc.bg.base.DB, java.lang.Object, int, java.lang.StringBuilder, java.lang.StringBuilder, int, java.util.HashMap, java.util.HashMap, java.util.HashMap, int, boolean, boolean)">doTransaction</A></B>(<A HREF="../../../../edu/usc/bg/base/DB.html" title="class in edu.usc.bg.base">DB</A>&nbsp;db,
              java.lang.Object&nbsp;threadstate,
              int&nbsp;threadid,
              java.lang.StringBuilder&nbsp;updateLog,
              java.lang.StringBuilder&nbsp;readLog,
              int&nbsp;seqID,
              java.util.HashMap&lt;java.lang.String,java.lang.Integer&gt;&nbsp;resUpdateOperations,
              java.util.HashMap&lt;java.lang.String,java.lang.Integer&gt;&nbsp;frienshipInfo,
              java.util.HashMap&lt;java.lang.String,java.lang.Integer&gt;&nbsp;pendingInfo,
              int&nbsp;thinkTime,
              boolean&nbsp;insertImage,
              boolean&nbsp;warmup)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do one transaction operation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#getDate()">getDate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.HashMap&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#getDBInitialStats(edu.usc.bg.base.DB)">getDBInitialStats</A></B>(<A HREF="../../../../edu/usc/bg/base/DB.html" title="class in edu.usc.bg.base">DB</A>&nbsp;db)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the initial statistics from the data stores: member count, friend count per user, pending friend count per user and the resource count per user
 assuming all users initially have the same number of confirmed and pending friendships.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../edu/usc/bg/workloads/UserWorkload.html#init(java.util.Properties, java.util.Vector)">init</A></B>(java.util.Properties&nbsp;p,
     java.util.Vector&lt;java.lang.Integer&gt;&nbsp;members)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize the scenario.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_edu.usc.bg.base.Workload"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class edu.usc.bg.base.<A HREF="../../../../edu/usc/bg/base/Workload.html" title="class in edu.usc.bg.base">Workload</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#cleanup()">cleanup</A>, <A HREF="../../../../edu/usc/bg/base/Workload.html#initThread(java.util.Properties, int, int)">initThread</A>, <A HREF="../../../../edu/usc/bg/base/Workload.html#isStopRequested()">isStopRequested</A>, <A HREF="../../../../edu/usc/bg/base/Workload.html#requestStop()">requestStop</A>, <A HREF="../../../../edu/usc/bg/base/Workload.html#resetDBInternalStructures(java.util.Properties, int)">resetDBInternalStructures</A>, <A HREF="../../../../edu/usc/bg/base/Workload.html#setStopRequested(boolean)">setStopRequested</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="table"><!-- --></A><H3>
table</H3>
<PRE>
public static final java.lang.String <B>table</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#edu.usc.bg.workloads.UserWorkload.table">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="fieldCount"><!-- --></A><H3>
fieldCount</H3>
<PRE>
public static final int <B>fieldCount</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#edu.usc.bg.workloads.UserWorkload.fieldCount">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="fieldLength"><!-- --></A><H3>
fieldLength</H3>
<PRE>
public static final int <B>fieldLength</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#edu.usc.bg.workloads.UserWorkload.fieldLength">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="fieldName"><!-- --></A><H3>
fieldName</H3>
<PRE>
public static final java.lang.String[] <B>fieldName</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="MAX_INTERVAL"><!-- --></A><H3>
MAX_INTERVAL</H3>
<PRE>
public static final long <B>MAX_INTERVAL</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#edu.usc.bg.workloads.UserWorkload.MAX_INTERVAL">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="BASE_INTERVAL"><!-- --></A><H3>
BASE_INTERVAL</H3>
<PRE>
public static final long <B>BASE_INTERVAL</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#edu.usc.bg.workloads.UserWorkload.BASE_INTERVAL">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="insertImage"><!-- --></A><H3>
insertImage</H3>
<PRE>
public static boolean <B>insertImage</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="imageSize"><!-- --></A><H3>
imageSize</H3>
<PRE>
public static int <B>imageSize</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="UserWorkload()"><!-- --></A><H3>
UserWorkload</H3>
<PRE>
public <B>UserWorkload</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="init(java.util.Properties, java.util.Vector)"><!-- --></A><H3>
init</H3>
<PRE>
public void <B>init</B>(java.util.Properties&nbsp;p,
                 java.util.Vector&lt;java.lang.Integer&gt;&nbsp;members)
          throws <A HREF="../../../../edu/usc/bg/base/WorkloadException.html" title="class in edu.usc.bg.base">WorkloadException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#init(java.util.Properties, java.util.Vector)">Workload</A></CODE></B></DD>
<DD>Initialize the scenario. Create any generators and other shared objects here.
 Called once, in the main client thread, before any operations are started.
 Also called when client threads load the database.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#init(java.util.Properties, java.util.Vector)">init</A></CODE> in class <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html" title="class in edu.usc.bg.base">Workload</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>p</CODE> - The properties.<DD><CODE>members</CODE> - Needed for the load phase, keeps a track of the set of memberids that the BG client is responsible for.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../edu/usc/bg/base/WorkloadException.html" title="class in edu.usc.bg.base">WorkloadException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getDate()"><!-- --></A><H3>
getDate</H3>
<PRE>
public java.lang.String <B>getDate</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="buildKeyName(long)"><!-- --></A><H3>
buildKeyName</H3>
<PRE>
public java.lang.String <B>buildKeyName</B>(long&nbsp;keyNum)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="doInsert(edu.usc.bg.base.DB, java.lang.Object)"><!-- --></A><H3>
doInsert</H3>
<PRE>
public boolean <B>doInsert</B>(<A HREF="../../../../edu/usc/bg/base/DB.html" title="class in edu.usc.bg.base">DB</A>&nbsp;db,
                        java.lang.Object&nbsp;threadState)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#doInsert(edu.usc.bg.base.DB, java.lang.Object)">Workload</A></CODE></B></DD>
<DD>Do one insert operation. Because it will be called concurrently from multiple client threads, this 
 function must be thread safe. However, avoid synchronized, or the threads will block waiting for each 
 other, and it will be difficult to reach the target throughput. Ideally, this function would have no side
 effects other than DB operations and mutations on threadstate. Mutations to threadstate do not need to be
 synchronized, since each thread has its own threadstate instance.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#doInsert(edu.usc.bg.base.DB, java.lang.Object)">doInsert</A></CODE> in class <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html" title="class in edu.usc.bg.base">Workload</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDBInitialStats(edu.usc.bg.base.DB)"><!-- --></A><H3>
getDBInitialStats</H3>
<PRE>
public java.util.HashMap&lt;java.lang.String,java.lang.String&gt; <B>getDBInitialStats</B>(<A HREF="../../../../edu/usc/bg/base/DB.html" title="class in edu.usc.bg.base">DB</A>&nbsp;db)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#getDBInitialStats(edu.usc.bg.base.DB)">Workload</A></CODE></B></DD>
<DD>Gets the initial statistics from the data stores: member count, friend count per user, pending friend count per user and the resource count per user
 assuming all users initially have the same number of confirmed and pending friendships.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#getDBInitialStats(edu.usc.bg.base.DB)">getDBInitialStats</A></CODE> in class <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html" title="class in edu.usc.bg.base">Workload</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="doTransaction(edu.usc.bg.base.DB, java.lang.Object, int, java.lang.StringBuilder, java.lang.StringBuilder, int, java.util.HashMap, java.util.HashMap, java.util.HashMap, int, boolean, boolean)"><!-- --></A><H3>
doTransaction</H3>
<PRE>
public int <B>doTransaction</B>(<A HREF="../../../../edu/usc/bg/base/DB.html" title="class in edu.usc.bg.base">DB</A>&nbsp;db,
                         java.lang.Object&nbsp;threadstate,
                         int&nbsp;threadid,
                         java.lang.StringBuilder&nbsp;updateLog,
                         java.lang.StringBuilder&nbsp;readLog,
                         int&nbsp;seqID,
                         java.util.HashMap&lt;java.lang.String,java.lang.Integer&gt;&nbsp;resUpdateOperations,
                         java.util.HashMap&lt;java.lang.String,java.lang.Integer&gt;&nbsp;frienshipInfo,
                         java.util.HashMap&lt;java.lang.String,java.lang.Integer&gt;&nbsp;pendingInfo,
                         int&nbsp;thinkTime,
                         boolean&nbsp;insertImage,
                         boolean&nbsp;warmup)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#doTransaction(edu.usc.bg.base.DB, java.lang.Object, int, java.lang.StringBuilder, java.lang.StringBuilder, int, java.util.HashMap, java.util.HashMap, java.util.HashMap, int, boolean, boolean)">Workload</A></CODE></B></DD>
<DD>Do one transaction operation. Because it will be called concurrently from multiple client threads, this 
 function must be thread safe. However, avoid synchronized, or the threads will block waiting for each 
 other, and it will be difficult to reach the target throughput. Ideally, this function would have no side
 effects other than DB operations and mutations on threadstate. Mutations to threadstate do not need to be
 synchronized, since each thread has its own threadstate instance.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../edu/usc/bg/base/Workload.html#doTransaction(edu.usc.bg.base.DB, java.lang.Object, int, java.lang.StringBuilder, java.lang.StringBuilder, int, java.util.HashMap, java.util.HashMap, java.util.HashMap, int, boolean, boolean)">doTransaction</A></CODE> in class <CODE><A HREF="../../../../edu/usc/bg/base/Workload.html" title="class in edu.usc.bg.base">Workload</A></CODE></DL>
</DD>
<DD><DL>
<DD><CODE>updateLog</CODE> - The update log record created by that transaction which needs to be written to the update file.<DD><CODE>readLog</CODE> - The read log record created by that transaction which needs to be written to the update file.<DD><CODE>seqID</CODE> - For workloads issuing sessions keeps a track of the current sessionid.<DD><CODE>resUpdateOperations</CODE> - Keeps a track of all the postcomment updates issued - needed for validation based on exact values.<DD><CODE>frienshipInfo</CODE> - Keeps a track of all the confirmed friendships created throughout the benchmark execution - needed for validation based on exact values.<DD><CODE>pendingInfo</CODE> - Keeps a track of all the pending invites created during the benchmark execution - needed for validation based on exact values.<DD><CODE>thinkTime</CODE> - Think time between the actions in a session.<DD><CODE>insertImage</CODE> - If set to true means images will be retrieved for relevant actions i.e. getUserProfile.<DD><CODE>warmup</CODE> - If set to true the workload would not issue any update actions.
<DT><B>Returns:</B><DD>greater than 0 if everything is fine.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/UserWorkload.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../edu/usc/bg/workloads/ResourceWorkload.html" title="class in edu.usc.bg.workloads"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?edu/usc/bg/workloads/UserWorkload.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="UserWorkload.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
